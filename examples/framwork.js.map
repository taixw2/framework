{"version":3,"file":"framwork.js","sources":["../src/utils.js","../src/Data.js","../src/createModule.js","../src/BaseModule.js","../src/framwork.config.js","../src/PubSub.js","../src/require.js","../src/loadModule.js","../src/install-plugins.js","../src/index.js"],"sourcesContent":["var objToStr = ({}).toString;\nvar class2type = {};\nvar typeList = \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \");\nfor (var i = 0; i < typeList.length; i++) {\n    class2type[\"[object \" + typeList[i] + \"]\"] = typeList[i].toLowerCase();\n}\n\nexport const uuid = function(fix = \"iqqq\") {\n    return fix + \"_\" + Math.random().toString(16).substr(2);\n};\n\n/**\n * 判断参数类型\n */\nexport const type = function(arg) {\n\n    var _type = typeof arg;\n\n    if (_type !== \"object\") {\n        return _type;\n    }\n    return class2type[objToStr.call(arg)];\n\n};\n\n\n/**\n * 判断是否数组\n */\nexport const isArray = function(obj) {\n    return type(Array.isArray) != \"undefined\" ? Array.isArray(obj) : objToStr.call(obj) === \"[object Array]\";\n};\n/**\n * 判断是否函数\n */\nexport const isFunction = function(fn) {\n    return type(fn) == \"function\";\n};\n\n/**\n * 遍历\n * 支持对象/数组\n */\nexport const each = function(arg, callback, context) {\n\n    var k;\n    var l;\n\n    if (type(arg) === \"object\") {\n        for (k in arg) {\n            callback.call(context || this, arg[k], k);\n        }\n    } else if (type(arg) === \"array\") {\n\n        if (type(arg.forEach) !== \"undefined\") {\n            arg.forEach(callback, context);\n        } else {\n            l = arg.length;\n            for (; k < l; k++) {\n                callback.call(context || this, arg[k], k);\n            }\n        }\n    } else {\n        return arg;\n    }\n};\n\nexport const every = function(arr, callback, context) {\n    var i = 0;\n    var l;\n    if (type(arr) !== \"array\") {\n        return arr;\n    } else if (type(arr.every) !== \"undefined\") {\n        arr.every(callback, context);\n    } else {\n        l = arr.length;\n        for (; i < l; i++) {\n            // arr[i]\n            if (!callback(arr[i], i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n};\n\nexport const noop = function() {};\n//\n\n export const extend = function() {\n\n     var args = [].slice.call(arguments);\n     var target = args.shift();\n     var l = args.length;\n     var deep = false;\n     var copy;\n     var clone;\n     var i = 0;\n     var option;\n     var k;\n     var callback = noop;\n\n     //最后一个如果是回调\n     if (type(args[l-1]) == \"function\") {\n       callback = args.pop();\n     }\n\n     if (type(target) == \"boolean\") {\n         deep = target;\n         target = args.shift();\n         l--;\n     }\n\n     for (; i < l; i++) {\n\n         option = args[i];\n\n         if (type(option) !== \"null\" && type(option) === \"object\") {\n\n             for (k in option) {\n\n                 copy = option[k];\n\n                 if ( callback(copy,k) === true) {\n                   continue;\n                 }\n\n                 if (deep && type(copy) == \"object\") {\n\n                     target[k] = extend(deep, type(target[k]) == \"object\" ? target[k] : {}, copy);\n\n                 } else {\n\n\n                   target[k] = copy;\n\n                 }\n\n             }\n\n         }\n\n     }\n     return target;\n };\n","//参考jquery.data\nimport {\n    uuid,\n    type,\n    each,\n    isArray\n} from \"./utils\";\n\nexport default class Data {\n    constructor() {\n        this.expando = uuid();\n    }\n    cache(owner) {\n        var value = owner[this.expando];\n        if (!value) {\n\n          value = {};\n\n            Object.defineProperty(owner, this.expando, {\n                value: value,\n                configurable: true //允许使用delete 删除\n            });\n\n        }\n        return value;\n\n    }\n    set(owner, data, value) {\n        var prop,\n            cache = this.cache(owner);\n\n        if (type(data) == \"string\") {\n            cache[data] = value;\n        } else {\n            each(data, (val, key) => {\n                cache[key] = val;\n            });\n        }\n\n    }\n    get(owner, key) {\n\n        return type(key) == \"undefined\" ?\n            this.cache(owner) :\n\n            owner[this.expando] && owner[this.expando][key];\n\n    }\n\n    access(owner, key, value) {\n\n        if (type(key) == \"undefined\" ||\n            (type(key) == \"string\" && type(value) == \"undefined\")) {\n\n            return this.get(owner, key);\n        }\n\n\n        this.set(owner, key, value);\n    }\n    remove(owner, key) {\n\n        var cache = owner[this.expando];\n\n        if (type(cache) == \"undefined\") {\n            return;\n        }\n\n        if (type(key) != \"undefined\") {\n\n            if (!isArray(key)) {\n              key = key in cache ? [ key ] : [];\n            }\n\n            while (key) {\n                delete cache[key.shift()];\n            }\n        }\n    }\n}\n","import {\n    extend,\n    type\n} from \"./utils\";\n\nexport default function(subModule, supModule) {\n\n\n    var Constructor = function() {\n\n        if (this.init) this.init.apply(this, arguments);\n\n    };\n\n    if (type(supModule) == \"function\") {\n\n        var F = function() {};\n\n        F.prototype = supModule.prototype;\n\n        Constructor.prototype = new F();\n\n        F = null;\n    }\n\n    extend(\n      Constructor.prototype,\n      new subModule()\n    );\n\n    Constructor.prototype.constructor = subModule;\n\n    return Constructor;\n\n}\n","/**\n * BaseClass\n */\n\nimport createModule from \"./createModule\";\nimport {noop} from \"./utils\";\n\n\nclass Base {\n\n  constructor () {\n\n    this.version = \"1.0.0\";\n\n    this.onLoad = noop;\n    this.onReady = noop;\n\n    this.init = function(mod,ele,opt,callback)   {\n\n        /*jshint ignore:start*/\n        /*jshint ignore:end*/\n\n        //终于执行到这里\n        //在脑中运行真的是....\n        this.onReady();\n\n\n        /**\n         * 处理一系列事情之后\n         */\n        this.onLoad();\n      };\n\n  }\n\n}\n\nexport default createModule(Base);\n","//用户通过R传入对象的config方法修改一下配置自\n//配置被用在loadModule.js中\nexport default {\n\n  basePath : location.origin,\n  projectName : \"\",\n  modulesPath : \"/modules\",\n\n};\n","export default class PubSub {\n    constructor() {\n        this.handles = {};\n    }\n    $on(eventType, handle) {\n        var handles = this.handles[eventType];\n        if (!(eventType in this.handles)) {\n            this.handles[eventType] = {\n                memory: null,\n                callbacks: []\n            };\n            handles = this.handles[eventType];\n        }\n\n        if (handles.memory) {\n            handle.apply(this, this.handles[eventType]);\n            return;\n        }\n\n        handles.callbacks.push(handle);\n\n    }\n    $emit(eventType) {\n        var args = [].slice.call(arguments, 1);\n        var handles = this.handles[eventType];\n        var handle;\n\n        if (!eventType || !handles) {\n            throw new Error(eventType + \"对象不存在\");\n        }\n\n        handles.memory = args;\n\n        handle = handles.callbacks;\n        while ( handle.length ) {\n            handle.shift().apply(this, args);\n        }\n    }\n}\n","/**\n * 整体雏形\n */\nimport {\n    type,\n    uuid,\n    each,\n    noop,\n    every\n} from \"./utils\";\nimport PubSub from \"./PubSub\";\n\nexport default function() {\n\n    if (typeof require !== \"undefined\" && typeof define != \"undefined\") {\n        return;\n    }\n\n    var pubSub = new PubSub();\n\n    var modulesCache = {};\n    var doc = document;\n    var body = doc.body;\n    var superScript = document.currentScript ? true : false;\n\n    var defaultConfig = {\n        baseUrl: \"/\",\n        paths: {},\n        // waitSeconds: 0,\n        exports: {}\n    };\n\n\n    /**\n     * require处理\n     * @param  {[type]}   path     [路径，可能是远程路径，也可能是config中定义的]\n     * @param  {[type]}   _private     [是否用于内部使用]\n     * @param  {[type]}   noDefine [一些没有使用define导出并且无法在config配置的项]\n     * @param  {Function} callback [加载完成后的回调]\n     */\n    function requireHandle(path, _private, callback) {\n        //精准路径\n        var exactPath;\n        var requireExport;\n        var config = _require.config;\n        var id;\n\n        // 判断路径是否远程路径\n        // (*):// || //\n        if (matchUrl(path) === false) {\n\n            if (!config.paths[path]) {\n              exactPath = path;\n                // throw new Error(\"加载模块路径错误:\" + path);\n            } else {\n                exactPath = config.baseUrl + config.paths[path];\n            }\n            id = path;\n\n        } else {\n            id = exactPath = path;\n        }\n\n        requireExport = _private ? path : config.exports[path];\n\n        if (type(modulesCache[id]) !== \"undefined\") {\n            return modulesCache[id];\n        }\n\n        loadScript(exactPath, id, requireExport, callback);\n    }\n\n    /**\n     * 加载脚本\n     */\n    function loadScript(path, id, exp, callback) {\n\n        var script = document.createElement(\"script\");\n        script.src = path;\n        script.id = id;\n\n        // 添加回调\n        // 如果\n        pubSub.$on(id, callback);\n\n        script.onload = function(_script, _id, _exp) {\n            return function() {\n                _script.onload = null;\n                // callback();\n                removeScript(_script);\n\n                //目前仅支持\n                // 要么使用define导出js\n                // 要么在config中配置 exports\n                if (_exp) {\n                    pubSub.$emit(_id, window[_exp]);\n                }\n            };\n        }(script, id, exp);\n\n        body.appendChild(script);\n    }\n\n    /**\n     * 删除脚本\n     */\n    function removeScript(script) {\n\n        if (type(script.remove) === \"undefined\") {\n            script.parentNode.removeChild(script);\n        } else {\n            script.remove();\n        }\n    }\n\n    //require 只发布一个对象，而对象的回调在define中执行\n    function _require(modules, callback) {\n\n        var modulesLength;\n        var modulesStart = 0;\n        var i = 0;\n        //简单把回调存在这里\n        var modulesCallbackArr = [];\n        modulesCallbackArr.length = modulesLength;\n\n        if (\n            type(modules) === \"function\" ||\n            (!modules && type(callback) === \"function\")\n        ) {\n            return modules();\n        } else if (type(modules) === \"string\") {\n\n            modules = [modules];\n\n        }\n\n        depHandler(modules, function() {\n            //依赖加载完的回调\n            callback.apply(this, arguments);\n        });\n    }\n\n    //仅用于内部\n    function _coreRequire(modules, callback) {\n\n        depHandler([modules], function() {\n            //依赖加载完的回调\n            callback.apply(this, arguments);\n\n        }, true);\n\n    }\n\n\n    //对依赖的处理\n    function depHandler(modules, callback = noop, _private = false) {\n        var params = [];\n        var start = 0;\n        var l = modules.length;\n\n        if (!l) {\n            callback();\n            return;\n        }\n\n        each(modules, (v, i) => {\n            requireHandle(v, _private, function(_i) {\n                return function(param) {\n                    //执行define的时候会执行这个回调\n                    //表示loaded\n                    start++;\n                    params[_i] = param;\n                    if (start === l) {\n                        callback.apply(null, params);\n                    }\n                };\n            }(i));\n        });\n    }\n\n\n    //执行define,\n    // 判断当前所执行的脚本的id找出require中注册的moduleCache\n    // 执行对应的callback\n    function _define(namespace, deps, callback) {\n\n        var dependents = [];\n\n        var args = [].slice.call(arguments, 0);\n\n        namespace = args[0];\n\n        var DOC = document;\n        var currentScript = DOC.currentScript;\n\n        var stack;\n        var i, l;\n\n        // 第一个参数校验\n        var arg1IsNamespace = namespace && type(namespace) === \"string\";\n        if (!currentScript && !arg1IsNamespace) {\n            //兼容不支持document.currentScript < IE 9\n            // 详见 ： http://www.cnblogs.com/rubylouvre/archive/2013/01/23/2872618.html\n            try {\n                a.b.c.d.e();\n            } catch (e) {\n                stack = e.stack;\n                if (!stack && window.opera) {\n                    //opera 9没有e.stack,但有e.Backtrace,但不能直接取得,需要对e对象转字符串进行抽取\n                    stack = (String(e).match(/of linked script \\S+/g) || []).join(\" \");\n                }\n            }\n            if (stack) {\n                stack = stack.split(/[@ ]/g).pop();\n                stack = stack[0] == \"(\" ? stack.slice(1, -1) : stack;\n                stackUrl = stack.replace(/(:\\d+)?:\\d+$/i, \"\");\n                scripts = DOC.scripts;\n                i = 0;\n                l = scripts.length;\n                for (; i < l; i++) {\n                    if (scripts[i] === stackUrl) {\n                        currentScript = {\n                            id: scripts[i].id\n                        };\n                        break;\n                    }\n                }\n            } else {\n                throw \"超过所支持浏览器范畴，浏览器信息:\" + navigator.userAgent;\n            }\n        }\n\n        if (currentScript && arg1IsNamespace) {\n            if (currentScript.id !== namespace) {\n                throw \"定义模块命名空间与引入模块别名不一致\";\n            }\n        }\n\n        var _namespace, _deps, _callback;\n\n\n        var _defineModule = {\n            namespace: namespace && type(namespace) === \"string\" ? namespace : currentScript.id,\n            callback: function() {}\n        };\n\n        /** 返回一个对象\n         * namespace\n         * deps\n         * callback\n         */\n        var normParam = paramsAdaptive.bind(this, currentScript.id).apply(this, args);\n\n\n        // 判断是否需要加载依赖\n        // 没有则立即执行\n        if (!normParam.deps.length) {\n            pubSub.$emit(normParam.namespace, normParam.callback());\n        } else {\n\n            depHandler(normParam.deps, function() {\n                pubSub.$emit(\n                    normParam.namespace,\n                    normParam.callback.bind(null, arguments)()\n                );\n            });\n        }\n    }\n\n    /**\n     * 参数适配\n     */\n    function paramsAdaptive() {\n\n        /**\n         * 例举参数形式\n         * string,array,function\n         * Boolean(false),function\n         * array,function\n         * string,function\n         * function\n         */\n        var id = arguments[0];\n        var args = [].slice.call(arguments, 1);\n        var namespace;\n        var deps;\n        var callback = args.pop(); //回调永远在最后一位的原则\n        var tmp;\n        tmp = args.shift();\n        // string 有时为 \"\"\n        if (type(tmp) === \"string\") {\n            namespace = tmp || id;\n        }\n        if (args.length === 1) {\n            deps = args[0];\n        } else {\n            deps = [];\n        }\n        if (type(tmp) === \"array\") {\n            namespace = id;\n            deps = tmp;\n        }\n        if (type(tmp) === \"undefined\") {\n            namespace = id;\n            deps = [];\n        }\n        return {\n            namespace,\n            deps,\n            callback\n        };\n\n    }\n\n    function matchUrl(url) {\n        return url.match(/.*:\\/\\/|^\\/\\//) ? true : false;\n    }\n\n\n    _require.config = defaultConfig;\n\n    window.require = _require;\n    window.define = _define;\n\n\n    return _coreRequire;\n}\n","import {\n    type,\n    extend\n} from \"./utils\";\nimport requireHandle from \"./require\";\nimport config from \"./framwork.config\";\nimport createModule from \"./createModule\";\n\n//在这里初始化require\nvar require = requireHandle();\n\n\n\n/**\n * 加载模块处理器\n * @param  {[type]}   moduleName loadModuleHandle  [所需加载的模块名称]\n * @param  {[type]}   accessModule [判断模块是否已经加载过]\n * @param  {Function} callback     [模块加载成功后的回调]\n * @return {[type]}                [description]\n */\nfunction loadModuleHandle(moduleName, accessModule, callback) {\n\n    var curModule;\n    var originModulePath = config.basePath + (config.projectName ? \"/\" + config.projectName : \"\") + config.modulesPath + \"/\";\n\n    curModule = accessModule(moduleName);\n\n    if (!curModule) {\n\n        originModulePath += moduleName + \"/\" + moduleName + \".js\";\n        require(originModulePath, function(_moduleName, _callback) {\n\n            return function() {\n                if (!accessModule(_moduleName)) {\n                    throw new Error(\"请检查模块名称是否正确!\");\n                }\n\n                loadModuleHandle(_moduleName, accessModule, _callback);\n            };\n\n        }(moduleName, callback));\n        return;\n    }\n\n    if (curModule.extend) {\n\n        loadModuleHandle(curModule.extend, accessModule, function(extendModuleContrustor) {\n            callback(createModule(curModule.module, extendModuleContrustor));\n        });\n\n    } else {\n        callback(curModule.module);\n    }\n\n}\n\n/**\n * [loadModule]\n * @param  {[type]}   moduleName [模块名称]\n * @param  {[type]}   node       [挂载节点]\n * @param  {[type]}   setting    [设置]\n * @param  {Function} callback   [用户回调]\n * @param  {Function} accessModule   [读写模块]\n * @return {[type]}              [description]\n */\nexport default function() {\n    //moduleName, node, setting, callback, accessModule\n    var args = [].slice.call(arguments);\n    var accessModule = args.pop();\n\n    if (type(args[1]) == \"string\") {\n        args[1] = document.getElementById(args[1].substr(1));\n    }\n\n    loadModuleHandle(args[0], accessModule, function(_args) {\n\n        return function(ModuleConstructor) {\n            new ModuleConstructor(_args[0], _args[1], _args[2], _args[3]);\n            accessModule(ModuleConstructor);\n        };\n\n    }(args));\n\n}\n","import {\n    type,\n    extend,\n} from \"./utils\";\n\n\n/**\n * 安装插件\n * @param  {[type]} plugin  [安装插件回调]\n * @param  {[type]} options [安装插件所传入的配置]\n * @return {[type]}         [description]\n */\nexport default function(BaseModule){\n\n  return function(\n    plugins,\n    options\n  ){\n\n    if ( type(plugins) == \"object\" ) {\n        plugins = plugins.install;\n    }\n\n    if ( type(plugins) == \"function\" ) {\n        plugins = plugins(options);\n    }\n\n    extend(BaseModule.prototype,plugins,function(v,k){\n\n      if (BaseModule.prototype[k]) {\n        console.warn(\"禁止篡改已经存在的方法\");\n        return true;\n      }\n\n    });\n\n  };\n\n\n\n}\n","import Data from \"./Data\";\nimport BaseModule from \"./BaseModule\";\nimport config from \"./framwork.config\";\nimport {\n    type,\n    extend,\n    noop\n} from \"./utils\";\nimport loadModule from \"./loadModule\";\n\nimport use from \"./install-plugins\";\n\nconst moduleCache = {};\n\nconst dataPriv = new Data();\n\ndataPriv.access(moduleCache);\n\ndataPriv.access(moduleCache, \"BaseModule\", {\n    extend: null,\n    module: BaseModule\n});\n\n// moduleName, extend, ModuleCallback\n/**\n * [Ready]\n * loadModule\n * initFramwork\n */\nconst R = function() {\n\n    var args = [].slice.call(arguments);\n    var cacheModule;\n    var _initObj;\n\n    /**\n     * initFramwork\n     */\n    if (args.length == 1 && type(args[0]) == \"object\") {\n\n      _initObj = args[0];\n\n      extend(config,_initObj.config);\n\n      R(\n        _initObj.$module,\n        _initObj.$mount,\n        _initObj.setting || {},\n        noop\n      );\n\n    }\n\n    /**\n     * [length 我晕，，，忘了定于模块，导致加载不到模块]\n     * @type {[type]}\n     */\n    if (args.length == 3 && type(args[2]) == \"function\") {\n\n      dataPriv.access(moduleCache, args[0],{\n        extend : args[1],\n        module : args[2]\n      });\n\n    }\n\n    /**\n     * if loadModule\n     * moduleName   模块名称\n     * mountNode  模块所挂载的节点，必须是id\n     * setting  加载模块所注入的配置,区分不同场景\n     * callback 加载模块之后的回调\n     */\n    if (args.length == 4 &&\n        (/^#/.test(args[1]) || args[1].nodeType)) {\n\n        cacheModule = dataPriv.access(moduleCache, args[0]);\n\n        if (!cacheModule) {\n\n            loadModule.apply(this, args.concat(function(moduleName) {\n\n                /**\n                 * 通过这个函数访问模块\n                 * @param  {[type]} modeleContructor [模块构造器]\n                 * @return {[type]}                  [description]\n                 */\n                return function accessModule(moduleOpt,_moduleName) {\n\n                    if (type(moduleOpt) == \"string\") {\n\n                        return dataPriv.access(moduleCache, moduleOpt);\n\n                    } else if (type(moduleOpt) == \"function\") {\n\n                        dataPriv.access(moduleCache, _moduleName || moduleName, {\n                            module: moduleOpt\n                        });\n\n                    }\n\n                };\n\n            }(args[0])));\n\n            return;\n\n        }\n\n        new cacheModule(args[0], args[1], args[2], args[3]);\n    }\n};\n\n\nR.use = use(BaseModule);\n/*jshint ignore:start*/\nwindow.R = R;\n/*jshint ignore:end*/\n"],"names":["objToStr","toString","class2type","typeList","split","i","length","toLowerCase","uuid","fix","Math","random","substr","type","arg","_type","call","isArray","obj","Array","each","callback","context","k","l","forEach","noop","extend","args","slice","arguments","target","shift","deep","copy","clone","option","pop","Data","expando","owner","value","defineProperty","data","prop","cache","val","key","get","set","subModule","supModule","Constructor","init","apply","F","prototype","constructor","Base","version","onLoad","onReady","mod","ele","opt","createModule","location","origin","PubSub","handles","eventType","handle","memory","callbacks","push","Error","require","define","pubSub","modulesCache","doc","document","body","superScript","currentScript","defaultConfig","requireHandle","path","_private","exactPath","requireExport","config","_require","id","matchUrl","paths","baseUrl","exports","loadScript","exp","script","createElement","src","$on","onload","_script","_id","_exp","$emit","window","appendChild","removeScript","remove","parentNode","removeChild","modules","modulesLength","modulesStart","modulesCallbackArr","_coreRequire","depHandler","params","start","v","_i","param","_define","namespace","deps","dependents","DOC","stack","arg1IsNamespace","b","c","d","e","opera","String","match","join","replace","scripts","stackUrl","navigator","userAgent","_namespace","_deps","_callback","_defineModule","normParam","paramsAdaptive","bind","tmp","url","loadModuleHandle","moduleName","accessModule","curModule","originModulePath","basePath","projectName","modulesPath","_moduleName","extendModuleContrustor","module","getElementById","_args","ModuleConstructor","BaseModule","plugins","options","install","warn","moduleCache","dataPriv","access","R","cacheModule","_initObj","$module","$mount","setting","test","nodeType","concat","moduleOpt","use"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,WAAY,EAAD,CAAKC,QAApB;AACA,IAAIC,aAAa,EAAjB;AACA,IAAIC,WAAW,uEAAuEC,KAAvE,CAA6E,GAA7E,CAAf;AACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAA7B,EAAqCD,GAArC,EAA0C;eAC3B,aAAaF,SAASE,CAAT,CAAb,GAA2B,GAAtC,IAA6CF,SAASE,CAAT,EAAYE,WAAZ,EAA7C;;;AAGJ,AAAO,IAAMC,OAAO,SAAPA,IAAO,GAAuB;QAAdC,GAAc,uEAAR,MAAQ;;WAChCA,MAAM,GAAN,GAAYC,KAAKC,MAAL,GAAcV,QAAd,CAAuB,EAAvB,EAA2BW,MAA3B,CAAkC,CAAlC,CAAnB;CADG;;;;;AAOP,AAAO,IAAMC,OAAO,SAAPA,IAAO,CAASC,GAAT,EAAc;;QAE1BC,eAAeD,GAAf,yCAAeA,GAAf,CAAJ;;QAEIC,UAAU,QAAd,EAAwB;eACbA,KAAP;;WAEGb,WAAWF,SAASgB,IAAT,CAAcF,GAAd,CAAX,CAAP;CAPG;;;;;AAeP,AAAO,IAAMG,UAAU,SAAVA,OAAU,CAASC,GAAT,EAAc;WAC1BL,KAAKM,MAAMF,OAAX,KAAuB,WAAvB,GAAqCE,MAAMF,OAAN,CAAcC,GAAd,CAArC,GAA0DlB,SAASgB,IAAT,CAAcE,GAAd,MAAuB,gBAAxF;CADG;;;;AAMP,AAAO;;;;;;AAQP,AAAO,IAAME,OAAO,SAAPA,IAAO,CAASN,GAAT,EAAcO,QAAd,EAAwBC,OAAxB,EAAiC;;QAE7CC,CAAJ;QACIC,CAAJ;;QAEIX,KAAKC,GAAL,MAAc,QAAlB,EAA4B;aACnBS,CAAL,IAAUT,GAAV,EAAe;qBACFE,IAAT,CAAcM,WAAW,IAAzB,EAA+BR,IAAIS,CAAJ,CAA/B,EAAuCA,CAAvC;;KAFR,MAIO,IAAIV,KAAKC,GAAL,MAAc,OAAlB,EAA2B;;YAE1BD,KAAKC,IAAIW,OAAT,MAAsB,WAA1B,EAAuC;gBAC/BA,OAAJ,CAAYJ,QAAZ,EAAsBC,OAAtB;SADJ,MAEO;gBACCR,IAAIR,MAAR;mBACOiB,IAAIC,CAAX,EAAcD,GAAd,EAAmB;yBACNP,IAAT,CAAcM,WAAW,IAAzB,EAA+BR,IAAIS,CAAJ,CAA/B,EAAuCA,CAAvC;;;KAPL,MAUA;eACIT,GAAP;;CApBD;;AAwBP,AAAO;;AAmBP,AAAO,IAAMY,OAAO,SAAPA,IAAO,GAAW,EAAxB;;;AAGN,AAAO,IAAMC,SAAS,SAATA,MAAS,GAAW;;QAEzBC,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,CAAX;QACIC,SAASH,KAAKI,KAAL,EAAb;QACIR,IAAII,KAAKtB,MAAb;QACI2B,OAAO,KAAX;QACIC,IAAJ;QACIC,KAAJ;QACI9B,IAAI,CAAR;QACI+B,MAAJ;QACIb,CAAJ;QACIF,WAAWK,IAAf;;;QAGIb,KAAKe,KAAKJ,IAAE,CAAP,CAAL,KAAmB,UAAvB,EAAmC;mBACtBI,KAAKS,GAAL,EAAX;;;QAGExB,KAAKkB,MAAL,KAAgB,SAApB,EAA+B;eACpBA,MAAP;iBACSH,KAAKI,KAAL,EAAT;;;;WAIG3B,IAAImB,CAAX,EAAcnB,GAAd,EAAmB;;iBAENuB,KAAKvB,CAAL,CAAT;;YAEIQ,KAAKuB,MAAL,MAAiB,MAAjB,IAA2BvB,KAAKuB,MAAL,MAAiB,QAAhD,EAA0D;;iBAEjDb,CAAL,IAAUa,MAAV,EAAkB;;uBAEPA,OAAOb,CAAP,CAAP;;oBAEKF,SAASa,IAAT,EAAcX,CAAd,MAAqB,IAA1B,EAAgC;;;;oBAI5BU,QAAQpB,KAAKqB,IAAL,KAAc,QAA1B,EAAoC;;2BAEzBX,CAAP,IAAYI,OAAOM,IAAP,EAAapB,KAAKkB,OAAOR,CAAP,CAAL,KAAmB,QAAnB,GAA8BQ,OAAOR,CAAP,CAA9B,GAA0C,EAAvD,EAA2DW,IAA3D,CAAZ;iBAFJ,MAIO;;2BAGEX,CAAP,IAAYW,IAAZ;;;;;WASPH,MAAP;CAtDG;;ACzFR;AACA,IAOqBO;oBACH;;;aACLC,OAAL,GAAe/B,MAAf;;;;;8BAEEgC,OAAO;gBACLC,QAAQD,MAAM,KAAKD,OAAX,CAAZ;gBACI,CAACE,KAAL,EAAY;;wBAEF,EAAR;;uBAESC,cAAP,CAAsBF,KAAtB,EAA6B,KAAKD,OAAlC,EAA2C;2BAChCE,KADgC;kCAEzB,IAFyB;iBAA3C;;mBAMGA,KAAP;;;;+BAGAD,OAAOG,MAAMF,OAAO;gBAChBG,IAAJ;gBACIC,QAAQ,KAAKA,KAAL,CAAWL,KAAX,CADZ;;gBAGI3B,KAAK8B,IAAL,KAAc,QAAlB,EAA4B;sBAClBA,IAAN,IAAcF,KAAd;aADJ,MAEO;qBACEE,IAAL,EAAW,UAACG,GAAD,EAAMC,GAAN,EAAc;0BACfA,GAAN,IAAaD,GAAb;iBADJ;;;;;+BAMJN,OAAOO,KAAK;;mBAELlC,KAAKkC,GAAL,KAAa,WAAb,GACH,KAAKF,KAAL,CAAWL,KAAX,CADG,GAGHA,MAAM,KAAKD,OAAX,KAAuBC,MAAM,KAAKD,OAAX,EAAoBQ,GAApB,CAH3B;;;;+BAOGP,OAAOO,KAAKN,OAAO;;gBAElB5B,KAAKkC,GAAL,KAAa,WAAb,IACClC,KAAKkC,GAAL,KAAa,QAAb,IAAyBlC,KAAK4B,KAAL,KAAe,WAD7C,EAC2D;;uBAEhD,KAAKO,GAAL,CAASR,KAAT,EAAgBO,GAAhB,CAAP;;;iBAICE,GAAL,CAAST,KAAT,EAAgBO,GAAhB,EAAqBN,KAArB;;;;+BAEGD,OAAOO,KAAK;;gBAEXF,QAAQL,MAAM,KAAKD,OAAX,CAAZ;;gBAEI1B,KAAKgC,KAAL,KAAe,WAAnB,EAAgC;;;;gBAI5BhC,KAAKkC,GAAL,KAAa,WAAjB,EAA8B;;oBAEtB,CAAC9B,QAAQ8B,GAAR,CAAL,EAAmB;0BACXA,OAAOF,KAAP,GAAe,CAAEE,GAAF,CAAf,GAAyB,EAA/B;;;uBAGKA,GAAP,EAAY;2BACDF,MAAME,IAAIf,KAAJ,EAAN,CAAP;;;;;;;;ACtEhB,mBAAe,UAASkB,SAAT,EAAoBC,SAApB,EAA+B;;QAGtCC,cAAc,SAAdA,WAAc,GAAW;;YAErB,KAAKC,IAAT,EAAe,KAAKA,IAAL,CAAUC,KAAV,CAAgB,IAAhB,EAAsBxB,SAAtB;KAFnB;;QAMIjB,KAAKsC,SAAL,KAAmB,UAAvB,EAAmC;;YAE3BI,IAAI,aAAW,EAAnB;;UAEEC,SAAF,GAAcL,UAAUK,SAAxB;;oBAEYA,SAAZ,GAAwB,IAAID,CAAJ,EAAxB;;YAEI,IAAJ;;;WAIFH,YAAYI,SADd,EAEE,IAAIN,SAAJ,EAFF;;gBAKYM,SAAZ,CAAsBC,WAAtB,GAAoCP,SAApC;;WAEOE,WAAP;;;AChCJ;;;;AAIA,AACA,IAGMM,OAEJ,gBAAe;;;;OAERC,OAAL,GAAe,OAAf;;OAEKC,MAAL,GAAclC,IAAd;OACKmC,OAAL,GAAenC,IAAf;;OAEK2B,IAAL,GAAY,UAASS,GAAT,EAAaC,GAAb,EAAiBC,GAAjB,EAAqB3C,QAArB,EAAiC;;;;;;;SAOpCwC,OAAL;;;;;SAMKD,MAAL;GAbJ;;;AAoBJ,iBAAeK,aAAaP,IAAb,CAAf;;ACrCA;;AAEA,aAAe;;YAEFQ,SAASC,MAFP;eAGC,EAHD;eAIC;;CAJhB;;ICFqBC;sBACH;;;aACLC,OAAL,GAAe,EAAf;;;;;4BAEAC,WAAWC,QAAQ;gBACfF,UAAU,KAAKA,OAAL,CAAaC,SAAb,CAAd;gBACI,EAAEA,aAAa,KAAKD,OAApB,CAAJ,EAAkC;qBACzBA,OAAL,CAAaC,SAAb,IAA0B;4BACd,IADc;+BAEX;iBAFf;0BAIU,KAAKD,OAAL,CAAaC,SAAb,CAAV;;;gBAGAD,QAAQG,MAAZ,EAAoB;uBACTlB,KAAP,CAAa,IAAb,EAAmB,KAAKe,OAAL,CAAaC,SAAb,CAAnB;;;;oBAIIG,SAAR,CAAkBC,IAAlB,CAAuBH,MAAvB;;;;8BAGED,WAAW;gBACT1C,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,EAAyB,CAAzB,CAAX;gBACIuC,UAAU,KAAKA,OAAL,CAAaC,SAAb,CAAd;gBACIC,MAAJ;;gBAEI,CAACD,SAAD,IAAc,CAACD,OAAnB,EAA4B;sBAClB,IAAIM,KAAJ,CAAUL,YAAY,OAAtB,CAAN;;;oBAGIE,MAAR,GAAiB5C,IAAjB;;qBAESyC,QAAQI,SAAjB;mBACQF,OAAOjE,MAAf,EAAwB;uBACb0B,KAAP,GAAesB,KAAf,CAAqB,IAArB,EAA2B1B,IAA3B;;;;;;;ACnCZ;;;AAGA,AAOA,AAEA,oBAAe,YAAW;;QAElB,OAAOgD,OAAP,KAAmB,WAAnB,IAAkC,OAAOC,MAAP,IAAiB,WAAvD,EAAoE;;;;QAIhEC,SAAS,IAAIV,MAAJ,EAAb;;QAEIW,eAAe,EAAnB;QACIC,MAAMC,QAAV;QACIC,OAAOF,IAAIE,IAAf;QACIC,cAAcF,SAASG,aAAT,GAAyB,IAAzB,GAAgC,KAAlD;;QAEIC,gBAAgB;iBACP,GADO;eAET,EAFS;;iBAIP;KAJb;;;;;;;;;aAeSC,aAAT,CAAuBC,IAAvB,EAA6BC,QAA7B,EAAuCnE,QAAvC,EAAiD;;YAEzCoE,SAAJ;YACIC,aAAJ;YACIC,SAASC,SAASD,MAAtB;YACIE,EAAJ;;;;YAIIC,SAASP,IAAT,MAAmB,KAAvB,EAA8B;;gBAEtB,CAACI,OAAOI,KAAP,CAAaR,IAAb,CAAL,EAAyB;4BACXA,IAAZ;;aADF,MAGO;4BACSI,OAAOK,OAAP,GAAiBL,OAAOI,KAAP,CAAaR,IAAb,CAA7B;;iBAECA,IAAL;SARJ,MAUO;iBACEE,YAAYF,IAAjB;;;wBAGYC,WAAWD,IAAX,GAAkBI,OAAOM,OAAP,CAAeV,IAAf,CAAlC;;YAEI1E,KAAKkE,aAAac,EAAb,CAAL,MAA2B,WAA/B,EAA4C;mBACjCd,aAAac,EAAb,CAAP;;;mBAGOJ,SAAX,EAAsBI,EAAtB,EAA0BH,aAA1B,EAAyCrE,QAAzC;;;;;;aAMK6E,UAAT,CAAoBX,IAApB,EAA0BM,EAA1B,EAA8BM,GAA9B,EAAmC9E,QAAnC,EAA6C;;YAErC+E,SAASnB,SAASoB,aAAT,CAAuB,QAAvB,CAAb;eACOC,GAAP,GAAaf,IAAb;eACOM,EAAP,GAAYA,EAAZ;;;;eAIOU,GAAP,CAAWV,EAAX,EAAexE,QAAf;;eAEOmF,MAAP,GAAgB,UAASC,OAAT,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;mBAClC,YAAW;wBACNH,MAAR,GAAiB,IAAjB;;6BAEaC,OAAb;;;;;oBAKIE,IAAJ,EAAU;2BACCC,KAAP,CAAaF,GAAb,EAAkBG,OAAOF,IAAP,CAAlB;;aATR;SADY,CAadP,MAbc,EAaNP,EAbM,EAaFM,GAbE,CAAhB;;aAeKW,WAAL,CAAiBV,MAAjB;;;;;;aAMKW,YAAT,CAAsBX,MAAtB,EAA8B;;YAEtBvF,KAAKuF,OAAOY,MAAZ,MAAwB,WAA5B,EAAyC;mBAC9BC,UAAP,CAAkBC,WAAlB,CAA8Bd,MAA9B;SADJ,MAEO;mBACIY,MAAP;;;;;aAKCpB,QAAT,CAAkBuB,OAAlB,EAA2B9F,QAA3B,EAAqC;;YAE7B+F,aAAJ;YACIC,eAAe,CAAnB;YACIhH,IAAI,CAAR;;YAEIiH,qBAAqB,EAAzB;2BACmBhH,MAAnB,GAA4B8G,aAA5B;;YAGIvG,KAAKsG,OAAL,MAAkB,UAAlB,IACC,CAACA,OAAD,IAAYtG,KAAKQ,QAAL,MAAmB,UAFpC,EAGE;mBACS8F,SAAP;SAJJ,MAKO,IAAItG,KAAKsG,OAAL,MAAkB,QAAtB,EAAgC;;sBAEzB,CAACA,OAAD,CAAV;;;mBAIOA,OAAX,EAAoB,YAAW;;qBAElB7D,KAAT,CAAe,IAAf,EAAqBxB,SAArB;SAFJ;;;;aAOKyF,YAAT,CAAsBJ,OAAtB,EAA+B9F,QAA/B,EAAyC;;mBAE1B,CAAC8F,OAAD,CAAX,EAAsB,YAAW;;qBAEpB7D,KAAT,CAAe,IAAf,EAAqBxB,SAArB;SAFJ,EAIG,IAJH;;;;aAUK0F,UAAT,CAAoBL,OAApB,EAAgE;YAAnC9F,QAAmC,uEAAxBK,IAAwB;;YAAlB8D,QAAkB,uEAAP,KAAO;;YACxDiC,SAAS,EAAb;YACIC,QAAQ,CAAZ;YACIlG,IAAI2F,QAAQ7G,MAAhB;;YAEI,CAACkB,CAAL,EAAQ;;;;;aAKH2F,OAAL,EAAc,UAACQ,CAAD,EAAItH,CAAJ,EAAU;0BACNsH,CAAd,EAAiBnC,QAAjB,EAA2B,UAASoC,EAAT,EAAa;uBAC7B,UAASC,KAAT,EAAgB;;;;2BAIZD,EAAP,IAAaC,KAAb;wBACIH,UAAUlG,CAAd,EAAiB;iCACJ8B,KAAT,CAAe,IAAf,EAAqBmE,MAArB;;iBANR;aADuB,CAUzBpH,CAVyB,CAA3B;SADJ;;;;;;aAmBKyH,OAAT,CAAiBC,SAAjB,EAA4BC,IAA5B,EAAkC3G,QAAlC,EAA4C;;YAEpC4G,aAAa,EAAjB;;YAEIrG,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,EAAyB,CAAzB,CAAX;;oBAEYF,KAAK,CAAL,CAAZ;;YAEIsG,MAAMjD,QAAV;YACIG,gBAAgB8C,IAAI9C,aAAxB;;YAEI+C,KAAJ;YACI9H,CAAJ,EAAOmB,CAAP;;;YAGI4G,kBAAkBL,aAAalH,KAAKkH,SAAL,MAAoB,QAAvD;YACI,CAAC3C,aAAD,IAAkB,CAACgD,eAAvB,EAAwC;;;gBAGhC;kBACEC,CAAF,CAAIC,CAAJ,CAAMC,CAAN,CAAQC,CAAR;aADJ,CAEE,OAAOA,CAAP,EAAU;wBACAA,EAAEL,KAAV;oBACI,CAACA,KAAD,IAAUtB,OAAO4B,KAArB,EAA4B;;4BAEhB,CAACC,OAAOF,CAAP,EAAUG,KAAV,CAAgB,uBAAhB,KAA4C,EAA7C,EAAiDC,IAAjD,CAAsD,GAAtD,CAAR;;;gBAGJT,KAAJ,EAAW;wBACCA,MAAM/H,KAAN,CAAY,OAAZ,EAAqBiC,GAArB,EAAR;wBACQ8F,MAAM,CAAN,KAAY,GAAZ,GAAkBA,MAAMtG,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAlB,GAAuCsG,KAA/C;2BACWA,MAAMU,OAAN,CAAc,eAAd,EAA+B,EAA/B,CAAX;0BACUX,IAAIY,OAAd;oBACI,CAAJ;oBACIA,QAAQxI,MAAZ;uBACOD,IAAImB,CAAX,EAAcnB,GAAd,EAAmB;wBACXyI,QAAQzI,CAAR,MAAe0I,QAAnB,EAA6B;wCACT;gCACRD,QAAQzI,CAAR,EAAWwF;yBADnB;;;;aATZ,MAeO;sBACG,sBAAsBmD,UAAUC,SAAtC;;;;YAIJ7D,iBAAiBgD,eAArB,EAAsC;gBAC9BhD,cAAcS,EAAd,KAAqBkC,SAAzB,EAAoC;sBAC1B,oBAAN;;;;YAIJmB,UAAJ,EAAgBC,KAAhB,EAAuBC,SAAvB;;YAGIC,gBAAgB;uBACLtB,aAAalH,KAAKkH,SAAL,MAAoB,QAAjC,GAA4CA,SAA5C,GAAwD3C,cAAcS,EADjE;sBAEN,oBAAW;SAFzB;;;;;;;YAUIyD,YAAYC,eAAeC,IAAf,CAAoB,IAApB,EAA0BpE,cAAcS,EAAxC,EAA4CvC,KAA5C,CAAkD,IAAlD,EAAwD1B,IAAxD,CAAhB;;;;YAKI,CAAC0H,UAAUtB,IAAV,CAAe1H,MAApB,EAA4B;mBACjBsG,KAAP,CAAa0C,UAAUvB,SAAvB,EAAkCuB,UAAUjI,QAAV,EAAlC;SADJ,MAEO;;uBAEQiI,UAAUtB,IAArB,EAA2B,YAAW;uBAC3BpB,KAAP,CACI0C,UAAUvB,SADd,EAEIuB,UAAUjI,QAAV,CAAmBmI,IAAnB,CAAwB,IAAxB,EAA8B1H,SAA9B,GAFJ;aADJ;;;;;;;aAYCyH,cAAT,GAA0B;;;;;;;;;;YAUlB1D,KAAK/D,UAAU,CAAV,CAAT;YACIF,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,EAAyB,CAAzB,CAAX;YACIiG,SAAJ;YACIC,IAAJ;YACI3G,WAAWO,KAAKS,GAAL,EAAf,CAdsB;YAelBoH,GAAJ;cACM7H,KAAKI,KAAL,EAAN;;YAEInB,KAAK4I,GAAL,MAAc,QAAlB,EAA4B;wBACZA,OAAO5D,EAAnB;;YAEAjE,KAAKtB,MAAL,KAAgB,CAApB,EAAuB;mBACZsB,KAAK,CAAL,CAAP;SADJ,MAEO;mBACI,EAAP;;YAEAf,KAAK4I,GAAL,MAAc,OAAlB,EAA2B;wBACX5D,EAAZ;mBACO4D,GAAP;;YAEA5I,KAAK4I,GAAL,MAAc,WAAlB,EAA+B;wBACf5D,EAAZ;mBACO,EAAP;;eAEG;gCAAA;sBAAA;;SAAP;;;aAQKC,QAAT,CAAkB4D,GAAlB,EAAuB;eACZA,IAAIf,KAAJ,CAAU,eAAV,IAA6B,IAA7B,GAAoC,KAA3C;;;aAIKhD,MAAT,GAAkBN,aAAlB;;WAEOT,OAAP,GAAiBgB,QAAjB;WACOf,MAAP,GAAgBiD,OAAhB;;WAGOP,YAAP;;;AC5TJ,IAAI3C,YAAUU,eAAd;;;;;;;;;AAWA,SAASqE,gBAAT,CAA0BC,UAA1B,EAAsCC,YAAtC,EAAoDxI,QAApD,EAA8D;;QAEtDyI,SAAJ;QACIC,mBAAmBpE,OAAOqE,QAAP,IAAmBrE,OAAOsE,WAAP,GAAqB,MAAMtE,OAAOsE,WAAlC,GAAgD,EAAnE,IAAyEtE,OAAOuE,WAAhF,GAA8F,GAArH;;gBAEYL,aAAaD,UAAb,CAAZ;;QAEI,CAACE,SAAL,EAAgB;;4BAEQF,aAAa,GAAb,GAAmBA,UAAnB,GAAgC,KAApD;kBACQG,gBAAR,EAA0B,UAASI,WAAT,EAAsBf,SAAtB,EAAiC;;mBAEhD,YAAW;oBACV,CAACS,aAAaM,WAAb,CAAL,EAAgC;0BACtB,IAAIxF,KAAJ,CAAU,cAAV,CAAN;;;iCAGawF,WAAjB,EAA8BN,YAA9B,EAA4CT,SAA5C;aALJ;SAFsB,CAUxBQ,UAVwB,EAUZvI,QAVY,CAA1B;;;;QAcAyI,UAAUnI,MAAd,EAAsB;;yBAEDmI,UAAUnI,MAA3B,EAAmCkI,YAAnC,EAAiD,UAASO,sBAAT,EAAiC;qBACrEnG,aAAa6F,UAAUO,MAAvB,EAA+BD,sBAA/B,CAAT;SADJ;KAFJ,MAMO;iBACMN,UAAUO,MAAnB;;;;;;;;;;;;;AAcR,iBAAe,YAAW;;QAElBzI,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,CAAX;QACI+H,eAAejI,KAAKS,GAAL,EAAnB;;QAEIxB,KAAKe,KAAK,CAAL,CAAL,KAAiB,QAArB,EAA+B;aACtB,CAAL,IAAUqD,SAASqF,cAAT,CAAwB1I,KAAK,CAAL,EAAQhB,MAAR,CAAe,CAAf,CAAxB,CAAV;;;qBAGagB,KAAK,CAAL,CAAjB,EAA0BiI,YAA1B,EAAwC,UAASU,KAAT,EAAgB;;eAE7C,UAASC,iBAAT,EAA4B;gBAC3BA,iBAAJ,CAAsBD,MAAM,CAAN,CAAtB,EAAgCA,MAAM,CAAN,CAAhC,EAA0CA,MAAM,CAAN,CAA1C,EAAoDA,MAAM,CAAN,CAApD;yBACaC,iBAAb;SAFJ;KAFoC,CAOtC5I,IAPsC,CAAxC;;;ACpEJ;;;;;;AAMA,UAAe,UAAS6I,UAAT,EAAoB;;SAE1B,UACLC,OADK,EAELC,OAFK,EAGN;;QAEM9J,KAAK6J,OAAL,KAAiB,QAAtB,EAAiC;gBACnBA,QAAQE,OAAlB;;;QAGC/J,KAAK6J,OAAL,KAAiB,UAAtB,EAAmC;gBACrBA,QAAQC,OAAR,CAAV;;;WAGGF,WAAWjH,SAAlB,EAA4BkH,OAA5B,EAAoC,UAAS/C,CAAT,EAAWpG,CAAX,EAAa;;UAE3CkJ,WAAWjH,SAAX,CAAqBjC,CAArB,CAAJ,EAA6B;gBACnBsJ,IAAR,CAAa,aAAb;eACO,IAAP;;KAJJ;GAbF;;;ACFF,IAAMC,cAAc,EAApB;;AAEA,IAAMC,WAAW,IAAIzI,IAAJ,EAAjB;;AAEAyI,SAASC,MAAT,CAAgBF,WAAhB;;AAEAC,SAASC,MAAT,CAAgBF,WAAhB,EAA6B,YAA7B,EAA2C;YAC/B,IAD+B;YAE/BL;CAFZ;;;;;;;;AAWA,IAAMQ,IAAI,SAAJA,CAAI,GAAW;;QAEbrJ,OAAO,GAAGC,KAAH,CAASb,IAAT,CAAcc,SAAd,CAAX;QACIoJ,WAAJ;QACIC,QAAJ;;;;;QAKIvJ,KAAKtB,MAAL,IAAe,CAAf,IAAoBO,KAAKe,KAAK,CAAL,CAAL,KAAiB,QAAzC,EAAmD;;mBAEtCA,KAAK,CAAL,CAAX;;eAEO+D,MAAP,EAAcwF,SAASxF,MAAvB;;UAGEwF,SAASC,OADX,EAEED,SAASE,MAFX,EAGEF,SAASG,OAAT,IAAoB,EAHtB,EAIE5J,IAJF;;;;;;;QAaEE,KAAKtB,MAAL,IAAe,CAAf,IAAoBO,KAAKe,KAAK,CAAL,CAAL,KAAiB,UAAzC,EAAqD;;iBAE1CoJ,MAAT,CAAgBF,WAAhB,EAA6BlJ,KAAK,CAAL,CAA7B,EAAqC;oBAC1BA,KAAK,CAAL,CAD0B;oBAE1BA,KAAK,CAAL;SAFX;;;;;;;;;;QAcEA,KAAKtB,MAAL,IAAe,CAAf,KACC,KAAKiL,IAAL,CAAU3J,KAAK,CAAL,CAAV,KAAsBA,KAAK,CAAL,EAAQ4J,QAD/B,CAAJ,EAC8C;;sBAE5BT,SAASC,MAAT,CAAgBF,WAAhB,EAA6BlJ,KAAK,CAAL,CAA7B,CAAd;;YAEI,CAACsJ,WAAL,EAAkB;;uBAEH5H,KAAX,CAAiB,IAAjB,EAAuB1B,KAAK6J,MAAL,CAAY,UAAS7B,UAAT,EAAqB;;;;;;;uBAO7C,SAASC,YAAT,CAAsB6B,SAAtB,EAAgCvB,WAAhC,EAA6C;;wBAE5CtJ,KAAK6K,SAAL,KAAmB,QAAvB,EAAiC;;+BAEtBX,SAASC,MAAT,CAAgBF,WAAhB,EAA6BY,SAA7B,CAAP;qBAFJ,MAIO,IAAI7K,KAAK6K,SAAL,KAAmB,UAAvB,EAAmC;;iCAE7BV,MAAT,CAAgBF,WAAhB,EAA6BX,eAAeP,UAA5C,EAAwD;oCAC5C8B;yBADZ;;iBARR;aAP+B,CAuBjC9J,KAAK,CAAL,CAvBiC,CAAZ,CAAvB;;;;;YA6BAsJ,WAAJ,CAAgBtJ,KAAK,CAAL,CAAhB,EAAyBA,KAAK,CAAL,CAAzB,EAAkCA,KAAK,CAAL,CAAlC,EAA2CA,KAAK,CAAL,CAA3C;;CAhFR;;AAqFAqJ,EAAEU,GAAF,GAAQA,IAAIlB,UAAJ,CAAR;;AAEA5D,OAAOoE,CAAP,GAAWA,CAAX;;;"}